{"ast":null,"code":"import React,{useState}from'react';import{Card,CardContent,TextField,Button,Typography,Box}from'@mui/material';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(_ref){let{onLogin}=_ref;const[username,setUsername]=useState('');const[password,setPassword]=useState('');const navigate=useNavigate();const loginUser=async e=>{e.preventDefault();try{const response=await fetch('http://localhost:8080/api/users/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});if(!response.ok){throw new Error('Login failed');}// Assuming the backend returns the token as plain text\nconst token=await response.text();localStorage.setItem('jwtToken',token);localStorage.setItem('loggedInUser',JSON.stringify({username}));onLogin({username});navigate('/projects');}catch(error){console.error('Error during login:',error);}};return/*#__PURE__*/_jsx(Card,{sx:{maxWidth:400,mx:'auto',mt:4},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Login\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:loginUser,sx:{display:'flex',flexDirection:'column',gap:2},children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",value:username,onChange:e=>setUsername(e.target.value),required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"contained\",color:\"primary\",children:\"Login\"})]})]})});}export default Login;","map":{"version":3,"names":["React","useState","Card","CardContent","TextField","Button","Typography","Box","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLogin","username","setUsername","password","setPassword","navigate","loginUser","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","token","text","localStorage","setItem","error","console","sx","maxWidth","mx","mt","children","variant","gutterBottom","component","onSubmit","display","flexDirection","gap","label","value","onChange","target","required","type","color"],"sources":["/Users/dheeraj/Desktop/To-Do App/frontned/ToDo-Frontend/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardContent, TextField, Button, Typography, Box } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Login({ onLogin }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const loginUser = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://localhost:8080/api/users/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n      });\n      if (!response.ok) {\n        throw new Error('Login failed');\n      }\n      // Assuming the backend returns the token as plain text\n      const token = await response.text();\n      localStorage.setItem('jwtToken', token);\n      localStorage.setItem('loggedInUser', JSON.stringify({ username }));\n      onLogin({ username });\n      navigate('/projects');\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  };\n\n  return (\n    <Card sx={{ maxWidth: 400, mx: 'auto', mt: 4 }}>\n      <CardContent>\n        <Typography variant=\"h5\" gutterBottom>\n          Login\n        </Typography>\n        <Box component=\"form\" onSubmit={loginUser} sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n          <TextField\n            label=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n          />\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n            Login\n          </Button>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default Login;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,WAAW,CAAEC,SAAS,CAAEC,MAAM,CAAEC,UAAU,CAAEC,GAAG,KAAQ,eAAe,CACrF,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAc,IAAb,CAAEC,OAAQ,CAAC,CAAAD,IAAA,CACxB,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACiB,QAAQ,CAAEC,WAAW,CAAC,CAAGlB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAmB,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAa,SAAS,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,uCAAuC,CAAE,CACpEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEd,QAAQ,CAAEE,QAAS,CAAC,CAC7C,CAAC,CAAC,CACF,GAAI,CAACM,QAAQ,CAACO,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,cAAc,CAAC,CACjC,CACA;AACA,KAAM,CAAAC,KAAK,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CACnCC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAEH,KAAK,CAAC,CACvCE,YAAY,CAACC,OAAO,CAAC,cAAc,CAAEP,IAAI,CAACC,SAAS,CAAC,CAAEd,QAAS,CAAC,CAAC,CAAC,CAClED,OAAO,CAAC,CAAEC,QAAS,CAAC,CAAC,CACrBI,QAAQ,CAAC,WAAW,CAAC,CACvB,CAAE,MAAOiB,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,qBAAqB,CAAEA,KAAK,CAAC,CAC7C,CACF,CAAC,CAED,mBACE3B,IAAA,CAACR,IAAI,EAACqC,EAAE,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,EAAE,CAAE,MAAM,CAAEC,EAAE,CAAE,CAAE,CAAE,CAAAC,QAAA,cAC7C/B,KAAA,CAACT,WAAW,EAAAwC,QAAA,eACVjC,IAAA,CAACJ,UAAU,EAACsC,OAAO,CAAC,IAAI,CAACC,YAAY,MAAAF,QAAA,CAAC,OAEtC,CAAY,CAAC,cACb/B,KAAA,CAACL,GAAG,EAACuC,SAAS,CAAC,MAAM,CAACC,QAAQ,CAAE1B,SAAU,CAACkB,EAAE,CAAE,CAAES,OAAO,CAAE,MAAM,CAAEC,aAAa,CAAE,QAAQ,CAAEC,GAAG,CAAE,CAAE,CAAE,CAAAP,QAAA,eAClGjC,IAAA,CAACN,SAAS,EACR+C,KAAK,CAAC,UAAU,CAChBC,KAAK,CAAEpC,QAAS,CAChBqC,QAAQ,CAAG/B,CAAC,EAAKL,WAAW,CAACK,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACT,CAAC,cACF7C,IAAA,CAACN,SAAS,EACR+C,KAAK,CAAC,UAAU,CAChBK,IAAI,CAAC,UAAU,CACfJ,KAAK,CAAElC,QAAS,CAChBmC,QAAQ,CAAG/B,CAAC,EAAKH,WAAW,CAACG,CAAC,CAACgC,MAAM,CAACF,KAAK,CAAE,CAC7CG,QAAQ,MACT,CAAC,cACF7C,IAAA,CAACL,MAAM,EAACmD,IAAI,CAAC,QAAQ,CAACZ,OAAO,CAAC,WAAW,CAACa,KAAK,CAAC,SAAS,CAAAd,QAAA,CAAC,OAE1D,CAAQ,CAAC,EACN,CAAC,EACK,CAAC,CACV,CAAC,CAEX,CAEA,cAAe,CAAA9B,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}