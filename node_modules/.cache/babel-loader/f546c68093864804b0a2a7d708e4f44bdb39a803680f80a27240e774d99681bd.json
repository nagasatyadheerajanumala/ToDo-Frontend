{"ast":null,"code":"var _jsxFileName = \"/Users/dheeraj/Desktop/To-Do App/frontned/ToDo-Frontend/src/components/Auth/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Card, CardContent, TextField, Button, Typography, Box } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  onLogin\n}) {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n  const loginUser = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://localhost:8080/api/users/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Login failed');\n      }\n      // Assuming the backend returns the token as plain text\n      const token = await response.text();\n      localStorage.setItem('jwtToken', token);\n      localStorage.setItem('loggedInUser', JSON.stringify({\n        username\n      }));\n      onLogin({\n        username\n      });\n      navigate('/projects');\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      maxWidth: 400,\n      mx: 'auto',\n      mt: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: loginUser,\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Username\",\n          value: username,\n          onChange: e => setUsername(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Password\",\n          type: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          color: \"primary\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"IIPwWddbiEHHD7aoL5eQeOR7fTk=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Card","CardContent","TextField","Button","Typography","Box","useNavigate","jsxDEV","_jsxDEV","Login","onLogin","_s","username","setUsername","password","setPassword","navigate","loginUser","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","ok","Error","token","text","localStorage","setItem","error","console","sx","maxWidth","mx","mt","children","variant","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","component","onSubmit","display","flexDirection","gap","label","value","onChange","target","required","type","color","_c","$RefreshReg$"],"sources":["/Users/dheeraj/Desktop/To-Do App/frontned/ToDo-Frontend/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Card, CardContent, TextField, Button, Typography, Box } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Login({ onLogin }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const navigate = useNavigate();\n\n  const loginUser = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await fetch('http://localhost:8080/api/users/login', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ username, password })\n      });\n      if (!response.ok) {\n        throw new Error('Login failed');\n      }\n      // Assuming the backend returns the token as plain text\n      const token = await response.text();\n      localStorage.setItem('jwtToken', token);\n      localStorage.setItem('loggedInUser', JSON.stringify({ username }));\n      onLogin({ username });\n      navigate('/projects');\n    } catch (error) {\n      console.error('Error during login:', error);\n    }\n  };\n\n  return (\n    <Card sx={{ maxWidth: 400, mx: 'auto', mt: 4 }}>\n      <CardContent>\n        <Typography variant=\"h5\" gutterBottom>\n          Login\n        </Typography>\n        <Box component=\"form\" onSubmit={loginUser} sx={{ display: 'flex', flexDirection: 'column', gap: 2 }}>\n          <TextField\n            label=\"Username\"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            required\n          />\n          <TextField\n            label=\"Password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n          />\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\n            Login\n          </Button>\n        </Box>\n      </CardContent>\n    </Card>\n  );\n}\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}