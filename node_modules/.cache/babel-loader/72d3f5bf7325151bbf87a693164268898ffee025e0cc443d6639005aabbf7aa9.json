{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Box,Button,Card,CardContent,Grid,Typography}from'@mui/material';import TaskEdit from'./TaskEdit';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TaskList(_ref){let{projectId}=_ref;const[tasks,setTasks]=useState([]);const[editingTask,setEditingTask]=useState(null);const token=localStorage.getItem('jwtToken');const fetchTasks=async()=>{try{const response=await fetch(`http://localhost:8080/api/tasks/project/${projectId}`,{headers:{Authorization:`Bearer ${token}`}});if(!response.ok)throw new Error('Failed to fetch tasks');const data=await response.json();setTasks(data);console.log('Fetched tasks:',data);}catch(error){console.error('Error fetching tasks:',error);}};useEffect(()=>{fetchTasks();},[projectId]);const deleteTask=async id=>{try{const response=await fetch(`http://localhost:8080/api/tasks/${id}`,{method:'DELETE',headers:{Authorization:`Bearer ${token}`}});if(!response.ok)throw new Error('Failed to delete task');fetchTasks();}catch(error){console.error('Error deleting task:',error);}};const handleTaskUpdated=updatedTask=>{setTasks(tasks.map(t=>t.id===updatedTask.id?updatedTask:t));};return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",gutterBottom:true,children:\"Task List\"}),tasks.length===0?/*#__PURE__*/_jsx(Typography,{children:\"No tasks available.\"}):/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:tasks.map(task=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:6,children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",children:task.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:task.description}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Due:\"}),\" \",task.dueDate]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"text.secondary\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",task.status]}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",onClick:()=>setEditingTask(task),sx:{mt:2,mr:1},children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"error\",onClick:()=>deleteTask(task.id),sx:{mt:2},children:\"Delete\"})]})})},task.id))}),editingTask&&/*#__PURE__*/_jsx(TaskEdit,{open:Boolean(editingTask),task:editingTask,onClose:()=>setEditingTask(null),onTaskUpdated:handleTaskUpdated})]});}export default TaskList;","map":{"version":3,"names":["React","useEffect","useState","Box","Button","Card","CardContent","Grid","Typography","TaskEdit","jsx","_jsx","jsxs","_jsxs","TaskList","_ref","projectId","tasks","setTasks","editingTask","setEditingTask","token","localStorage","getItem","fetchTasks","response","fetch","headers","Authorization","ok","Error","data","json","console","log","error","deleteTask","id","method","handleTaskUpdated","updatedTask","map","t","children","variant","gutterBottom","length","container","spacing","task","item","xs","md","title","color","description","dueDate","status","onClick","sx","mt","mr","open","Boolean","onClose","onTaskUpdated"],"sources":["/Users/dheeraj/Desktop/To-Do App/frontned/ToDo-Frontend/src/components/Tasks/TaskList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Box, Button, Card, CardContent, Grid, Typography } from '@mui/material';\nimport TaskEdit from './TaskEdit';\n\nfunction TaskList({ projectId }) {\n  const [tasks, setTasks] = useState([]);\n  const [editingTask, setEditingTask] = useState(null);\n  const token = localStorage.getItem('jwtToken');\n\n  const fetchTasks = async () => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/tasks/project/${projectId}`, {\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      if (!response.ok) throw new Error('Failed to fetch tasks');\n      const data = await response.json();\n      setTasks(data);\n      console.log('Fetched tasks:', data);\n    } catch (error) {\n      console.error('Error fetching tasks:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, [projectId]);\n\n  const deleteTask = async (id) => {\n    try {\n      const response = await fetch(`http://localhost:8080/api/tasks/${id}`, {\n        method: 'DELETE',\n        headers: { Authorization: `Bearer ${token}` }\n      });\n      if (!response.ok) throw new Error('Failed to delete task');\n      fetchTasks();\n    } catch (error) {\n      console.error('Error deleting task:', error);\n    }\n  };\n\n  const handleTaskUpdated = (updatedTask) => {\n    setTasks(tasks.map((t) => (t.id === updatedTask.id ? updatedTask : t)));\n  };\n\n  return (\n    <Box>\n      <Typography variant=\"h5\" gutterBottom>\n        Task List\n      </Typography>\n      {tasks.length === 0 ? (\n        <Typography>No tasks available.</Typography>\n      ) : (\n        <Grid container spacing={2}>\n          {tasks.map((task) => (\n            <Grid item xs={12} md={6} key={task.id}>\n              <Card>\n                <CardContent>\n                  <Typography variant=\"h6\">{task.title}</Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    {task.description}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    <strong>Due:</strong> {task.dueDate}\n                  </Typography>\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    <strong>Status:</strong> {task.status}\n                  </Typography>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={() => setEditingTask(task)}\n                    sx={{ mt: 2, mr: 1 }}\n                  >\n                    Edit\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    color=\"error\"\n                    onClick={() => deleteTask(task.id)}\n                    sx={{ mt: 2 }}\n                  >\n                    Delete\n                  </Button>\n                </CardContent>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n      {editingTask && (\n        <TaskEdit\n          open={Boolean(editingTask)}\n          task={editingTask}\n          onClose={() => setEditingTask(null)}\n          onTaskUpdated={handleTaskUpdated}\n        />\n      )}\n    </Box>\n  );\n}\n\nexport default TaskList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}