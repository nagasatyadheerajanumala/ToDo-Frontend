{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Dialog,DialogTitle,DialogContent,DialogActions,TextField,Button}from'@mui/material';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TaskEdit(_ref){let{open,onClose,task,onTaskUpdated}=_ref;const[title,setTitle]=useState(task.title);const[description,setDescription]=useState(task.description);const[dueDate,setDueDate]=useState(task.dueDate);const[status,setStatus]=useState(task.status);const token=localStorage.getItem('jwtToken');useEffect(()=>{setTitle(task.title);setDescription(task.description);setDueDate(task.dueDate);setStatus(task.status);},[task]);const updateTask=async()=>{const updatedTask={...task,title,description,dueDate,status};try{const response=await fetch(`http://localhost:8080/api/tasks/${task.id}`,{method:'PUT',headers:{'Content-Type':'application/json',Authorization:`Bearer ${token}`},body:JSON.stringify(updatedTask)});if(!response.ok)throw new Error('Failed to update task');const data=await response.json();onTaskUpdated(data);onClose();}catch(error){console.error('Error updating task:',error);}};return/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:onClose,children:[/*#__PURE__*/_jsx(DialogTitle,{children:\"Edit Task\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(TextField,{margin:\"dense\",label:\"Title\",fullWidth:true,value:title,onChange:e=>setTitle(e.target.value)}),/*#__PURE__*/_jsx(TextField,{margin:\"dense\",label:\"Description\",fullWidth:true,multiline:true,rows:3,value:description,onChange:e=>setDescription(e.target.value)}),/*#__PURE__*/_jsx(TextField,{margin:\"dense\",label:\"Due Date\",type:\"date\",fullWidth:true,InputLabelProps:{shrink:true},value:dueDate,onChange:e=>setDueDate(e.target.value)}),/*#__PURE__*/_jsx(TextField,{margin:\"dense\",label:\"Status\",fullWidth:true,value:status,onChange:e=>setStatus(e.target.value)})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:updateTask,variant:\"contained\",color:\"primary\",children:\"Save\"})]})]});}export default TaskEdit;","map":{"version":3,"names":["React","useState","useEffect","Dialog","DialogTitle","DialogContent","DialogActions","TextField","Button","jsx","_jsx","jsxs","_jsxs","TaskEdit","_ref","open","onClose","task","onTaskUpdated","title","setTitle","description","setDescription","dueDate","setDueDate","status","setStatus","token","localStorage","getItem","updateTask","updatedTask","response","fetch","id","method","headers","Authorization","body","JSON","stringify","ok","Error","data","json","error","console","children","margin","label","fullWidth","value","onChange","e","target","multiline","rows","type","InputLabelProps","shrink","onClick","variant","color"],"sources":["/Users/dheeraj/Desktop/To-Do App/frontned/ToDo-Frontend/src/components/Tasks/TaskEdit.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, TextField, Button } from '@mui/material';\n\nfunction TaskEdit({ open, onClose, task, onTaskUpdated }) {\n  const [title, setTitle] = useState(task.title);\n  const [description, setDescription] = useState(task.description);\n  const [dueDate, setDueDate] = useState(task.dueDate);\n  const [status, setStatus] = useState(task.status);\n  const token = localStorage.getItem('jwtToken');\n\n  useEffect(() => {\n    setTitle(task.title);\n    setDescription(task.description);\n    setDueDate(task.dueDate);\n    setStatus(task.status);\n  }, [task]);\n\n  const updateTask = async () => {\n    const updatedTask = { ...task, title, description, dueDate, status };\n    try {\n      const response = await fetch(`http://localhost:8080/api/tasks/${task.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(updatedTask)\n      });\n      if (!response.ok) throw new Error('Failed to update task');\n      const data = await response.json();\n      onTaskUpdated(data);\n      onClose();\n    } catch (error) {\n      console.error('Error updating task:', error);\n    }\n  };\n\n  return (\n    <Dialog open={open} onClose={onClose}>\n      <DialogTitle>Edit Task</DialogTitle>\n      <DialogContent>\n        <TextField\n          margin=\"dense\"\n          label=\"Title\"\n          fullWidth\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n        />\n        <TextField\n          margin=\"dense\"\n          label=\"Description\"\n          fullWidth\n          multiline\n          rows={3}\n          value={description}\n          onChange={(e) => setDescription(e.target.value)}\n        />\n        <TextField\n          margin=\"dense\"\n          label=\"Due Date\"\n          type=\"date\"\n          fullWidth\n          InputLabelProps={{ shrink: true }}\n          value={dueDate}\n          onChange={(e) => setDueDate(e.target.value)}\n        />\n        <TextField\n          margin=\"dense\"\n          label=\"Status\"\n          fullWidth\n          value={status}\n          onChange={(e) => setStatus(e.target.value)}\n        />\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={onClose}>Cancel</Button>\n        <Button onClick={updateTask} variant=\"contained\" color=\"primary\">\n          Save\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nexport default TaskEdit;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}